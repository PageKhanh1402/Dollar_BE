@model DollarProject.Models.User

<section class="section-py">
    <div class="container pt-30p">

        <!-- Cover Photo -->
        <div class="relative rounded-32 overflow-hidden">
            <div class="glitch-effect">
                <div class="glitch-thumb">
                    <img class="w-full xl:h-[472px] ... object-cover"
                         src="~/images/@(Model.ImageURL ?? "default-cover.png")"
                         alt="cover image">
                </div>
                <div class="glitch-thumb">
                    <img class="w-full xl:h-[472px] ... object-cover"
                         src="~/images/@(Model.ImageURL ?? "default-cover.png")"
                         alt="cover image">
                </div>
            </div>
            <label for="coverPhoto" class="cursor-pointer absolute ...">
                <span class="flex-c size-60p rounded-full bg-b-neutral-3 text-w-neutral-1 icon-32">
                    <i class="ti ti-camera"></i>
                </span>
            </label>
            <input type="file" name="coverPhoto" id="coverPhoto" class="hidden">
        </div>

        <!-- Profile Avatar -->
        <div class="relative flex ...">
            <div class="3xl:absolute ... z-[4]">
                <img class="avatar xl:size-60 ... border-secondary"
                     src="~/images/@(Model.ImageURL ?? "avatar3.png")"
                     alt="profile">
                <label for="profilePhoto" class="cursor-pointer absolute ...">
                    <span class="flex-c size-60p rounded-full bg-primary text-b-neutral-4 icon-32">
                        <i class="ti ti-camera"></i>
                    </span>
                </label>
                <input type="file" name="profilePhoto" id="profilePhoto" class="hidden">
            </div>
        </div>

        <!-- Form -->
        <div class="grid grid-cols-12 gap-30p">
            <div class="xxl:col-start-3 xxl:col-end-11 col-span-12">
                <div class="bg-b-neutral-3 rounded-12 p-40p">
                    <h4 class="heading-4 text-w-neutral-1 mb-60p">Edit Profile</h4>

                    <form asp-action="Edit" asp-controller="User" method="post">
                        <input type="hidden" asp-for="UserID" />

                        <div class="grid grid-cols-8 gap-30p">
                            <div class="sm:col-span-4 col-span-8">
                                <label class="label label-lg mb-3">First Name</label>
                                <input asp-for="FirstName" class="box-input-3" />
                            </div>
                            <div class="sm:col-span-4 col-span-8">
                                <label class="label label-lg mb-3">Last Name</label>
                                <input asp-for="LastName" class="box-input-3" />
                            </div>
                            <div class="col-span-8">
                                <label class="label label-lg mb-3">Email</label>
                                <input asp-for="Email" class="box-input-3" />
                            </div>
                            <div class="col-span-8">
                                <label class="label label-lg mb-3">Username</label>
                                <input asp-for="Username" class="box-input-3" />
                            </div>
                            <div class="col-span-8">
                                <label class="label label-lg mb-3">Phone Number</label>
                                <input asp-for="PhoneNumber" class="box-input-3" />
                            </div>
                            <div class="col-span-8">
                                <label class="label label-lg mb-3">Address</label>
                                <input asp-for="Address" class="box-input-3" />
                            </div>
                            <div class="col-span-8">
                                <label class="label label-lg mb-3">Seller Description</label>
                                <textarea asp-for="SellerDescription" class="box-input-3 h-[142px]"></textarea>
                            </div>
                            <div class="sm:col-span-4 col-span-8">
                                <label class="label label-lg mb-3">Verified Seller</label>
                                <select asp-for="IsVerifiedSeller" class="box-input-3">
                                    <option value="true">Yes</option>
                                    <option value="false">No</option>
                                </select>
                            </div>
                            <div class="sm:col-span-4 col-span-8">
                                <label class="label label-lg mb-3">Seller Rating</label>
                                <input asp-for="SellerRating" class="box-input-3" type="number" step="0.01" min="0" max="5" />
                            </div>
                        </div>

                        <div class="flex items-center md:justify-end justify-center">
                            <button class="btn btn-primary" onclick="this.disabled=true; this.innerText='Saving...'; this.form.submit();">
                                Save Changes
                            </button>
                        </div>
                    </form>

                </div>
            </div>
        </div>

    </div>
</section>


<script>
    document.getElementById("profilePhoto").addEventListener("change", function (e) {
        const [file] = e.target.files;
        if (file) {
            const img = document.querySelector("img.avatar");
            img.src = URL.createObjectURL(file);
        }
    });
</script>

